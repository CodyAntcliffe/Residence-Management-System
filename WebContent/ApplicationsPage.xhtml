<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
	<ui:define name="content">
		<h:form rendered="#{logIn.userType == null}">
			<h1>Restricted: Please Log In</h1>
			<div class = "homeButtons"><h:button value="Login" outcome="toLogin" /></div>
			<div class = "homeButtons"><h:button value="Register" outcome="toRegister" /></div>
		</h:form>
		<h:form rendered="#{logIn.userType == 'manager'}">
			<h:dataTable value="#{applicationsPageBean.appliedStudents}"
				var="applicant" style="width:80%; " border="1">
				<h:column>
					<f:facet name="header">Name</f:facet>
						#{applicant.name}
				</h:column>
				<h:column>
					<f:facet name="header">Username</f:facet>
						#{applicant.userName}
				</h:column>
				<h:column>
					<f:facet name="header">Student Number</f:facet>
						#{applicant.studentNumber}
				</h:column>
				<h:column>
					<f:facet name="header">Year Level</f:facet>
						#{applicant.yearLevel}
				</h:column>
				<h:column>
					<f:facet name="header">Age</f:facet>
						#{applicant.age}
				</h:column>
				<h:column>
					<f:facet name = "header">Facility</f:facet>
					  	#{applicant.facility}
				</h:column>
				<h:column>
					<f:facet name = "header">Room Number</f:facet>
						#{applicant.roomNum}
				</h:column>
				
			</h:dataTable>

		</h:form>


		<h:form rendered="#{logIn.userType == 'manager'}">
			<h:panelGrid columns="2">
				<h:selectOneMenu id="applicationSelect"
					value="#{applicationsPageBean.applicationSelected}">
					<f:selectItems value="#{applicationsPageBean.studentName}"/>
				</h:selectOneMenu>
			</h:panelGrid>


			<div class="contentButtons">
				<h:commandButton value="Accept Application"
					action="#{applicationsPageBean.acceptApplication}" />
				<h:commandButton value="Reject Application"
					action="#{applicationsPageBean.rejectApplication}" />
			</div>

		</h:form>
	</ui:define>
</ui:composition>
</html>
